<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<!-- generated by to_html.pl from property.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Properties</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard style for Kirikiri-related references" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top Page" />
</head>
<body>
<h1><a id="id281" name="id281">Properties</a>
</h1><div class="para"><div>
	Properties can be handled just like variables, but in reality, they involve calls to a <a id="id282" name="id282" class="targanchor"><dfn>setter</dfn></a> ( <a id="id283" name="id283" class="targanchor"><dfn>setter</dfn></a> ) and a <a id="id284" name="id284" class="targanchor"><dfn>getter</dfn></a> ( <a id="id285" name="id285" class="targanchor"><dfn>getter</dfn></a> ), similar to method calls. Setters and getters are sometimes referred to as property handlers.<br />
<br />
　The syntax is as follows:<br />

<br />
<code class="bq"><a id="id286" name="id286" class="targanchor"><dfn>property</dfn></a>&nbsp;identifier<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;setter(argument)<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Setter&nbsp;content&nbsp;goes&nbsp;here</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;getter()<br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Getter&nbsp;content&nbsp;goes&nbsp;here</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;expression;&nbsp;<span class="comment">//&nbsp;Value&nbsp;returned&nbsp;by&nbsp;the&nbsp;getter</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
}<br />
</code>
<br />

　The setter and getter can be written in either order. <br />
　This property is registered as a member of the class where it is defined, or as a global member. Retrieving a value from this identifier is done via the getter, and setting a value is done via the setter. These setters and getters can contain various contents just like methods. The setter takes a variable to receive the value as an argument inside the ( ) following "setter". The getter returns a value via the <a id="id287" name="id287" class="targanchor"><dfn>return</dfn></a> statement.<br />
<br />
　The () after "getter" can be omitted.<br />
<br />
　If you write both a setter and a getter for a single identifier, it becomes a read-write property. If only one is written—for example, only a getter—it becomes a read-only property, and attempting to write to it will result in an error.<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;value;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;property&nbsp;property1&nbsp;<span class="comment">//&nbsp;Declare&nbsp;property&nbsp;'property1'</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setter(v)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;The&nbsp;setter&nbsp;takes&nbsp;exactly&nbsp;one&nbsp;argument</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value=v;&nbsp;<span class="comment">//&nbsp;Process&nbsp;argument&nbsp;v</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inform(&quot;value&nbsp;set.&quot;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getter<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;Declare&nbsp;the&nbsp;getter&nbsp;for&nbsp;the&nbsp;same&nbsp;identifier&nbsp;'property1'</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;The&nbsp;getter&nbsp;has&nbsp;no&nbsp;arguments</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inform(&quot;value&nbsp;get.&quot;);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;value;&nbsp;<span class="comment">//&nbsp;Return&nbsp;it&nbsp;as&nbsp;the&nbsp;result</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;property1=5;&nbsp;<span class="comment">//&nbsp;Assignment&nbsp;to&nbsp;property1&nbsp;calls&nbsp;the&nbsp;setter</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;property1++;&nbsp;<span class="comment">//&nbsp;In&nbsp;this&nbsp;kind&nbsp;of&nbsp;expression,&nbsp;the&nbsp;getter&nbsp;is&nbsp;called,</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">//&nbsp;and&nbsp;then&nbsp;the&nbsp;setter&nbsp;is&nbsp;called&nbsp;to&nbsp;set&nbsp;the&nbsp;new&nbsp;value</span><br />
}<br />
</code>
<br />

　Properties, like variables, functions, and classes, can also be <a id="id288" name="id288" class="targanchor"><dfn>overridden</dfn></a>.<br />
</div></div>
<h1><a id="id289" name="id289">Property Objects</a>
</h1><div class="para"><div>
　A property itself is also an object. However, when it is registered as part of another object, normal access methods only call the property handler, and you cannot access the property object itself.<br />
　To retrieve the property object itself, use the <code class="inlinecode"><a id="id290" name="id290" class="targanchor"><dfn>&amp;</dfn></a></code> operator. The retrieved property object can be stored in a local variable.<br />
　You can also register a property object using the <code class="inlinecode">&amp;</code> operator.<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;property&nbsp;prop&nbsp;<span class="comment">//&nbsp;Declare&nbsp;property&nbsp;prop</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(omitted)<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;&amp;prop;&nbsp;<span class="comment">//&nbsp;Get&nbsp;the&nbsp;property&nbsp;object&nbsp;and&nbsp;put&nbsp;it&nbsp;in&nbsp;a&nbsp;local&nbsp;variable</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&amp;object.property1&nbsp;=&nbsp;p;&nbsp;<span class="comment">//&nbsp;Register&nbsp;p&nbsp;as&nbsp;property1&nbsp;of&nbsp;object</span><br />
}<br />
</code>
<br />

<br />
　By using the <code class="inlinecode">&amp;</code> operator, you can access the property object itself without calling the getter or setter. Without the <code class="inlinecode">&amp;</code> operator, it remains a normal access to the property.<br />
<br />
　A property object retrieved as a local variable can have its property handlers called using the <code class="inlinecode"><a id="id291" name="id291" class="targanchor"><dfn>*</dfn></a></code> operator, even without being registered to an object.<br />
<br />

<br />
<code class="bq"><span class="weak">Example:</span><br />&nbsp;&nbsp;&nbsp;&nbsp;property&nbsp;prop&nbsp;<span class="comment">//&nbsp;Declare&nbsp;property&nbsp;prop</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(omitted)<br />
&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<br />
{<br />
&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;p&nbsp;=&nbsp;&amp;prop;&nbsp;<span class="comment">//&nbsp;Get&nbsp;the&nbsp;property&nbsp;object&nbsp;and&nbsp;put&nbsp;it&nbsp;in&nbsp;a&nbsp;local&nbsp;variable</span><br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;*p&nbsp;=&nbsp;30;&nbsp;<span class="comment">//&nbsp;Call&nbsp;the&nbsp;setter&nbsp;and&nbsp;set&nbsp;30</span><br />
&nbsp;&nbsp;&nbsp;&nbsp;func(*p);&nbsp;<span class="comment">//&nbsp;Call&nbsp;the&nbsp;getter&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;value&nbsp;and&nbsp;pass&nbsp;it&nbsp;to&nbsp;func</span><br />
}<br />
</code>
<br />

<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
When storing a property object in a "var" variable as shown above, please ensure the variable is a local variable. This is because once a property object is registered to an object, it will no longer behave as a property object but as a property that operates via its getter and setter. In other words, if you register a property object as a global variable (i.e., a member of "global") or as a member of another object instead of a local variable, it will begin to behave like a normal property. Of course, it is perfectly fine to use the &amp; operator to retrieve a property object that has been registered as a global variable or an object member in this way.</div><br />
<br />
Using the "instanceof" operator with "Property" on a property object will result in true (in the example above, &amp;prop instanceof "Property" is true).<br />
</div></div>
	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>