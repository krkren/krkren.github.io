<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link href="api.css" type="text/css" rel="stylesheet" title="Standard style for API reference" />
<title>registerUserMessageReceiver - Registers a user-defined message handler.</title>
</head>
<body>
<h1><span class="fheader"><a name="top" id="top">Window.registerUserMessageReceiver</a></span></h1><div class="para">
<dl>
<dt>Function/Meaning</dt>
<dd>Registers a user-defined message handler.</dd>
<dt>Type</dt>
<dd>Method of the <a class="jump" href="class_Window.html">Window class</a></dd>
<dt>Syntax</dt>
<dd><span class="funcdecl">registerUserMessageReceiver(<span class="arg">mode</span>, <span class="arg">msg</span>, <span class="arg">proc</span>, <span class="arg">userdata</span>)</span></dd>
<dt>Arguments</dt>
<dd><table rules="all" frame="box" cellpadding="3" summary="Arguments for registerUserMessageReceiver">
<tr><td valign="top"><span class="argname">mode</span></td>
<td>wrmRegister: Register, wrmUnRegister: Unregister</td></tr>
<tr><td valign="top"><span class="argname">msg</span></td>
<td>Numeric: Message number. String: The value is determined by calling RegisterWindowMessage.</td></tr>
<tr><td valign="top"><span class="argname">proc</span></td>
<td>Callback function</td></tr>
<tr><td valign="top"><span class="argname">userdata</span></td>
<td>User data parameter</td></tr>
</table></dd>
<dt>Return Value</dt>
<dd>Returns the registered message number.</dd>
<dt>Description</dt>
<dd>* When a function is registered from TJS2 (if typeof proc == Object):<br />It is assumed to be a function in the form of:<br />function receiver(userdata, wparam, lparam)<br />In this case, userdata is passed as the original value, while wparam and lparam are passed as values cast to integers from the original message data.<br /><br />* When a string is registered from TJS2 (if typeof proc == String):<br />The function with the specified name on the corresponding object will be called with the arguments: function name(userdata, wparam, lparam).<br /><br />* When registering a function from the plugin side (if typeof proc == Integer):<br />It is assumed to be:<br />static bool __stdcall receiver(iTJSDispatch2 *winobj, void *userdata, tTVPWindowMessage *Message)<br />Please cast to an integer when setting. <br />winobj is the object of the corresponding window. <br />userdata is passed as a value cast to an integer.</dd>
</dl>
</div>
</body>
</html>